CVE-2013-0864
=============

- Fixed in `c10350358da58600884292c08a8690289b81de29`
- https://www.cvedetails.com/cve/CVE-2013-0864/
- All commands are run from the top level directory of this repository.

Compile
-------

```
./configure --disable-asm --disable-doc --disable-everything --enable-protocol=file --enable-demuxer=gif --enable-decoder=gif --enable-encoder=rawvideo --enable-muxer=null --disable-filter=null
make
```

This set of configure options enables only the components that are required to trigger the vulnerability.

Payload modified from [here](https://66.media.tumblr.com/5a646387587dd017f65b3742951670b3/tumblr_mjq8ocHhEE1rpur03o1_400.gifv).

Read a GIF
----------

Read in a GIF with FFMPEG:

```
./ffmpeg  -i CVE-2013-0864/jerry.gif -f null /dev/null
```

This runs the GIF decoder but simply discards the video stream.

Trigger vulnerability
---------------------

Trigger buffer overflow by attempting to read a bad GIF:

```
./ffmpeg -i CVE-2013-0864/payload.gif -f null /dev/null
```

This consistently triggers a segmentation fault on my system (OS X) when compiled with Apple LLVM version 10.0.1 (clang-1001.0.46.4).

System calls
------------

Trace the system calls with the payload.

```
strace -o CVE-2013-0864/strace_out.txt -c -- ./ffmpeg -i CVE-2013-0864/payload.gif -f null /dev/null
```

